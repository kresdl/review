[{"/Users/ole/node/review/src/components/App.tsx":"1","/Users/ole/node/review/src/components/Sidebar.tsx":"2","/Users/ole/node/review/src/components/AlbumSelect.tsx":"3","/Users/ole/node/review/src/components/Input.tsx":"4","/Users/ole/node/review/src/lib/hooks/index.ts":"5","/Users/ole/node/review/src/lib/hooks/use-on-uievent.ts":"6","/Users/ole/node/review/src/components/UploadPhoto/use-adapter.ts":"7","/Users/ole/node/review/src/components/Attachment.tsx":"8","/Users/ole/node/review/src/components/UploadPhoto/reducer.ts":"9","/Users/ole/node/review/src/lib/store.ts":"10","/Users/ole/node/review/src/components/Login.tsx":"11","/Users/ole/node/review/src/components/Register.tsx":"12","/Users/ole/node/review/src/components/User.tsx":"13","/Users/ole/node/review/src/lib/util.ts":"14","/Users/ole/node/review/src/components/UploadAlbum.tsx":"15","/Users/ole/node/review/src/components/AlbumEditor.tsx":"16","/Users/ole/node/review/src/lib/auth.ts":"17","/Users/ole/node/review/src/lib/db.ts":"18","/Users/ole/node/review/src/components/AlbumRecord.tsx":"19","/Users/ole/node/review/src/index.tsx":"20","/Users/ole/node/review/src/reportWebVitals.ts":"21","/Users/ole/node/review/src/components/Splash.tsx":"22","/Users/ole/node/review/src/components/Albums.tsx":"23","/Users/ole/node/review/src/components/SubmitCancel.tsx":"24","/Users/ole/node/review/src/components/Submit.tsx":"25","/Users/ole/node/review/src/components/Collapsable.tsx":"26","/Users/ole/node/review/src/lib/hooks/use-mounted.ts":"27","/Users/ole/node/review/src/lib/hooks/use-listener.ts":"28","/Users/ole/node/review/src/lib/hooks/use-swipe.ts":"29","/Users/ole/node/review/src/lib/hooks/use-optimistic.ts":"30","/Users/ole/node/review/src/lib/hooks/use-animation.ts":"31","/Users/ole/node/review/src/lib/firebase.ts":"32"},{"size":1167,"mtime":1609923669226,"results":"33","hashOfConfig":"34"},{"size":840,"mtime":1609923929557,"results":"35","hashOfConfig":"34"},{"size":688,"mtime":1609802239056,"results":"36","hashOfConfig":"37"},{"size":596,"mtime":1609923929554,"results":"38","hashOfConfig":"34"},{"size":337,"mtime":1609923649664,"results":"39","hashOfConfig":"34"},{"size":856,"mtime":1609797966337,"results":"40","hashOfConfig":"34"},{"size":1299,"mtime":1609857894319,"results":"41","hashOfConfig":"37"},{"size":813,"mtime":1609800044271,"results":"42","hashOfConfig":"37"},{"size":616,"mtime":1609799787718,"results":"43","hashOfConfig":"37"},{"size":381,"mtime":1609923649666,"results":"44","hashOfConfig":"34"},{"size":1024,"mtime":1609923929555,"results":"45","hashOfConfig":"34"},{"size":2361,"mtime":1609931921320,"results":"46","hashOfConfig":"34"},{"size":703,"mtime":1609923693247,"results":"47","hashOfConfig":"34"},{"size":262,"mtime":1609929619107,"results":"48","hashOfConfig":"34"},{"size":1025,"mtime":1609931928214,"results":"49","hashOfConfig":"34"},{"size":1044,"mtime":1609931910433,"results":"50","hashOfConfig":"34"},{"size":67,"mtime":1609923649661,"results":"51","hashOfConfig":"34"},{"size":2304,"mtime":1609932510466,"results":"52","hashOfConfig":"34"},{"size":735,"mtime":1609931915897,"results":"53","hashOfConfig":"34"},{"size":667,"mtime":1609923929568,"results":"54","hashOfConfig":"34"},{"size":425,"mtime":1609794791878,"results":"55","hashOfConfig":"34"},{"size":902,"mtime":1609923710827,"results":"56","hashOfConfig":"34"},{"size":776,"mtime":1609932510423,"results":"57","hashOfConfig":"34"},{"size":457,"mtime":1609923929560,"results":"58","hashOfConfig":"34"},{"size":342,"mtime":1609923929558,"results":"59","hashOfConfig":"34"},{"size":2120,"mtime":1609925693004,"results":"60","hashOfConfig":"34"},{"size":281,"mtime":1609797966323,"results":"61","hashOfConfig":"34"},{"size":359,"mtime":1609797966285,"results":"62","hashOfConfig":"34"},{"size":2024,"mtime":1609797966355,"results":"63","hashOfConfig":"34"},{"size":1037,"mtime":1609923649665,"results":"64","hashOfConfig":"34"},{"size":1563,"mtime":1609797966308,"results":"65","hashOfConfig":"34"},{"size":451,"mtime":1609923649663,"results":"66","hashOfConfig":"34"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"70"},"2pm2e8",{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1yllj3s",{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"70"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"70"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131","usedDeprecatedRules":"70"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"134","usedDeprecatedRules":"70"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},"/Users/ole/node/review/src/components/App.tsx",["139"],"import React, { useEffect } from 'react'\nimport User from './User'\nimport Splash from './Splash'\nimport { QueryClientProvider, QueryClient } from 'react-query'\nimport { ReactQueryDevtools } from 'react-query/devtools'\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom'\nimport auth from 'lib/auth'\nimport store from 'lib/store'\nimport firebase from 'firebase/app'\n\nconst queryClient = new QueryClient()\n\nconst App: React.FC = () => {\n  const history = useHistory()\n\n  useEffect(\n    () => void auth.onAuthStateChanged(authStateChange), []\n  )\n\n  const authStateChange = (user: firebase.User | null) => {\n    queryClient.clear()\n\n    if (user) {\n      store.notify(null)\n      history.push('/user/albums')\n    } else {\n      history.push('/')\n    }\n  }\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Switch>\n        <Route path=\"/user\">\n          <User />\n        </Route>\n        <Route exact path={['/', '/register']}>\n          <Splash />\n        </Route>\n        <Route path=\"*\">\n          <Redirect to=\"/\" />\n        </Route>\n      </Switch>\n      <ReactQueryDevtools />\n    </QueryClientProvider>\n  )\n}\n\nexport default App;\n",["140","141"],"/Users/ole/node/review/src/components/Sidebar.tsx",[],"/Users/ole/node/review/src/components/AlbumSelect.tsx",[],"/Users/ole/node/review/src/components/Input.tsx",[],"/Users/ole/node/review/src/lib/hooks/index.ts",[],"/Users/ole/node/review/src/lib/hooks/use-on-uievent.ts",["142","143"],"import { useLayoutEffect } from \"react\";\n\nconst useOnUIEvent = (target: EventTarget | React.RefObject<HTMLElement>, type: string, handler: (evt: Event) => void, dependencies: any[]) => {\n    useLayoutEffect(() => {\n        const tg = ('current' in target ? target.current : target) as EventTarget;\n        let animationFrame: number | null;\n\n        const onRedraw = () => {\n            animationFrame = null;\n        };\n\n        const listener = (evt: Event) => {\n            if (animationFrame) return;\n            animationFrame = requestAnimationFrame(onRedraw);\n            handler(evt)\n        }\n\n        tg.addEventListener(type, listener);\n\n        return () => {\n            animationFrame && cancelAnimationFrame(animationFrame);\n            tg.removeEventListener(type, listener);\n        };\n    }, dependencies);\n};\n\nexport default useOnUIEvent",["144","145"],"/Users/ole/node/review/src/components/UploadPhoto/use-adapter.ts",[],"/Users/ole/node/review/src/components/Attachment.tsx",[],"/Users/ole/node/review/src/components/UploadPhoto/reducer.ts",[],"/Users/ole/node/review/src/lib/store.ts",[],"/Users/ole/node/review/src/components/Login.tsx",[],"/Users/ole/node/review/src/components/Register.tsx",["146"],"import React, { useEffect, useState, ChangeEvent } from 'react'\nimport Input from './Input'\nimport SubmitCancel from './SubmitCancel'\nimport { useHistory } from 'react-router-dom'\nimport store from 'lib/store'\nimport firebase from 'firebase/app'\nimport { addUser } from 'lib/db'\n\nconst Register: React.FC = () => {\n  useEffect(store.notify, [])\n\n  const [pwSync, setPwSync] = useState(true)\n  const history = useHistory<string>()\n\n  const cancel = () => {\n    store.notify(null)\n    history.push('/')\n  }\n\n  const submit: React.FormEventHandler<HTMLFormElement> = async e => {\n    e.preventDefault()\n\n    if (!pwSync) return store.notify('Password mismatch')\n\n    const { elements } = e.target as HTMLFormElement\n    const { value: name } = elements.namedItem('first-name') as HTMLInputElement\n    const { value: lastName } = elements.namedItem('last-name') as HTMLInputElement\n    const { value: email } = elements.namedItem('email') as HTMLInputElement\n    const { value: password } = elements.namedItem('password') as HTMLInputElement\n\n    store.notify('Registering...')\n\n    try {\n      const cred = await firebase.auth().createUserWithEmailAndPassword(email, password)\n      await addUser(cred.user!.uid, name, lastName, email)\n      store.notify('Register successful!')\n      history.push('/')\n    } catch (err) {\n      store.notify(err)\n    }\n  }\n\n  const pwProps = {\n    autoComplete: 'off',\n    required: true,\n    type: 'password',\n    invalid: !pwSync,\n\n    onChange: (e: ChangeEvent<HTMLInputElement>) => {\n      const { elements } = e.target.form!,\n        { value: pw } = elements.namedItem('password') as HTMLInputElement,\n        { value: repeatPw } = elements.namedItem('repeat-password') as HTMLInputElement\n      setPwSync(pw === repeatPw)\n    }\n  }\n\n  return (\n    <form onSubmit={submit}>\n      <Input autoComplete=\"off\" required name=\"first-name\" label=\"First name\" />\n      <Input autoComplete=\"off\" required name=\"last-name\" label=\"Last name\" />\n      <Input autoComplete=\"off\" required type=\"email\" name=\"email\" label=\"Email\" />\n      <Input {...pwProps} autoComplete=\"off\" required name=\"password\" label=\"Password (6 characters minimum)\" pattern=\".{6,}\" />\n      <Input {...pwProps} autoComplete=\"off\" required label=\"Repeat password\" />\n      <SubmitCancel ok=\"Register\" onCancel={cancel} />\n    </form>\n  )\n}\n\nexport default Register","/Users/ole/node/review/src/components/User.tsx",[],"/Users/ole/node/review/src/lib/util.ts",[],"/Users/ole/node/review/src/components/UploadAlbum.tsx",[],"/Users/ole/node/review/src/components/AlbumEditor.tsx",[],"/Users/ole/node/review/src/lib/auth.ts",[],"/Users/ole/node/review/src/lib/db.ts",[],"/Users/ole/node/review/src/components/AlbumRecord.tsx",[],"/Users/ole/node/review/src/index.tsx",[],"/Users/ole/node/review/src/reportWebVitals.ts",[],"/Users/ole/node/review/src/components/Splash.tsx",[],"/Users/ole/node/review/src/components/Albums.tsx",[],"/Users/ole/node/review/src/components/SubmitCancel.tsx",[],"/Users/ole/node/review/src/components/Submit.tsx",[],"/Users/ole/node/review/src/components/Collapsable.tsx",[],"/Users/ole/node/review/src/lib/hooks/use-mounted.ts",[],"/Users/ole/node/review/src/lib/hooks/use-listener.ts",["147","148"],"import { useEffect } from \"react\";\n\nconst useListener = (target: EventTarget, type: string, handler: (evt: Event) => void, dependencies: any[]) => {\n    useEffect(() => {\n        target.addEventListener(type, handler);\n\n        return () => {\n            target.removeEventListener(type, handler);\n        }\n    }, dependencies);\n}\n\nexport default useListener","/Users/ole/node/review/src/lib/hooks/use-swipe.ts",["149"],"import { useEffect, useRef } from \"react\";\n\ntype Static = {\n    touchPrev?: [number, number] | null;\n    touch?: [number, number] | null;\n};\n\nconst useSwipe = <T extends HTMLDivElement>(ref: React.RefObject<T>, onSwipe: (swipe: [number, number]) => void) => {\n    const mem = useRef<Static>({}).current;\n\n    useEffect(\n        () => {\n            const onTouchStart = (evt: TouchEvent) => {\n                const { clientX: x, clientY: y } = evt.touches[0];\n                mem.touchPrev = [x, y];\n                mem.touch = [x, y];\n            }\n    \n            const onTouchMove = (evt: TouchEvent) => {\n                if (!mem.touch) return;\n                const [xp, yp] = mem.touch!;\n                const { clientX: x, clientY: y } = evt.touches[0];\n                const xd = Math.abs(x - xp!);\n                const yd = Math.abs(y - yp!);\n                if (xd > yd) {\n                    mem.touchPrev = mem.touch;\n                    mem.touch = [x, y];\n                    evt.preventDefault();\n                    evt.returnValue = false;\n                    return false;\n                } else {\n                    mem.touch = null;\n                }\n            }\n    \n            const onTouchEnd = () => {\n                if (!mem.touch) return;\n                const [x1, y1] = mem.touchPrev!;\n                const [x2, y2] = mem.touch!;\n                const xd = x2! - x1!;\n                const yd = y2! - y1!;\n                onSwipe([xd, yd]);\n            }\n\n            const em = ref.current!;\n            em.addEventListener('touchstart', onTouchStart);\n            em.addEventListener('touchmove', onTouchMove, { passive: false });\n            em.addEventListener('touchend', onTouchEnd);\n\n            return () => {\n                em.removeEventListener('touchstart', onTouchStart);\n                em.removeEventListener('touchmove', onTouchMove);\n                em.removeEventListener('touchend', onTouchEnd);\n            };\n        },\n        []\n    );\n}\n\nexport default useSwipe;\n\n","/Users/ole/node/review/src/lib/hooks/use-optimistic.ts",["150","151"],"import { useCallback } from \"react\";\nimport { MutationFunction, useMutation, useQueryClient } from \"react-query\";\n\nconst useOptimistic = <P = unknown, V = unknown, D = unknown, C = unknown>(\n    cacheKey: any,\n    asyncFn: MutationFunction<D, V>,\n    optimisticFn: (old: P, vars: V) => C,\n    dependencies: any[]\n) => {\n    const queryClient = useQueryClient();\n    const mutation = useMutation(asyncFn);\n\n    return useCallback(\n        async (vars: V) => {\n            const oldData = queryClient.getQueryData(cacheKey, { exact: true }) as P;\n            let result: D;\n            try {\n                queryClient.setQueryData(cacheKey, optimisticFn(oldData, vars))\n                result = await mutation.mutateAsync(vars);\n            } catch (err) {\n                queryClient.setQueryData(cacheKey, oldData);\n                throw err;\n            } finally {\n                queryClient.invalidateQueries(cacheKey);\n            }\n            return result;\n        },\n        dependencies\n    );\n}\n\nexport default useOptimistic","/Users/ole/node/review/src/lib/hooks/use-animation.ts",[],"/Users/ole/node/review/src/lib/firebase.ts",[],{"ruleId":"152","severity":1,"message":"153","line":17,"column":58,"nodeType":"154","endLine":17,"endColumn":60,"suggestions":"155"},{"ruleId":"156","replacedBy":"157"},{"ruleId":"158","replacedBy":"159"},{"ruleId":"152","severity":1,"message":"160","line":24,"column":8,"nodeType":"161","endLine":24,"endColumn":20},{"ruleId":"152","severity":1,"message":"162","line":24,"column":8,"nodeType":"161","endLine":24,"endColumn":20,"suggestions":"163"},{"ruleId":"156","replacedBy":"164"},{"ruleId":"158","replacedBy":"165"},{"ruleId":"152","severity":1,"message":"166","line":10,"column":3,"nodeType":"161","endLine":10,"endColumn":12},{"ruleId":"152","severity":1,"message":"167","line":10,"column":8,"nodeType":"161","endLine":10,"endColumn":20},{"ruleId":"152","severity":1,"message":"168","line":10,"column":8,"nodeType":"161","endLine":10,"endColumn":20,"suggestions":"169"},{"ruleId":"152","severity":1,"message":"170","line":56,"column":9,"nodeType":"154","endLine":56,"endColumn":11,"suggestions":"171"},{"ruleId":"152","severity":1,"message":"172","line":28,"column":9,"nodeType":"161","endLine":28,"endColumn":21},{"ruleId":"152","severity":1,"message":"173","line":28,"column":9,"nodeType":"161","endLine":28,"endColumn":21,"suggestions":"174"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'authStateChange'. Either include it or remove the dependency array.","ArrayExpression",["175"],"no-native-reassign",["176"],"no-negated-in-lhs",["177"],"React Hook useLayoutEffect was passed a dependency list that is not an array literal. This means we can't statically verify whether you've passed the correct dependencies.","Identifier","React Hook useLayoutEffect has missing dependencies: 'handler', 'target', and 'type'. Either include them or remove the dependency array. If 'handler' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["178"],["176"],["177"],"React Hook useEffect received a function whose dependencies are unknown. Pass an inline function instead.","React Hook useEffect was passed a dependency list that is not an array literal. This means we can't statically verify whether you've passed the correct dependencies.","React Hook useEffect has missing dependencies: 'handler', 'target', and 'type'. Either include them or remove the dependency array.",["179"],"React Hook useEffect has missing dependencies: 'mem', 'onSwipe', and 'ref'. Either include them or remove the dependency array. If 'onSwipe' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["180"],"React Hook useCallback was passed a dependency list that is not an array literal. This means we can't statically verify whether you've passed the correct dependencies.","React Hook useCallback has missing dependencies: 'cacheKey', 'mutation', 'optimisticFn', and 'queryClient'. Either include them or remove the dependency array. If 'optimisticFn' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["181"],{"desc":"182","fix":"183"},"no-global-assign","no-unsafe-negation",{"desc":"184","fix":"185"},{"desc":"184","fix":"186"},{"desc":"187","fix":"188"},{"desc":"189","fix":"190"},"Update the dependencies array to be: [authStateChange]",{"range":"191","text":"192"},"Update the dependencies array to be: [handler, target, type]",{"range":"193","text":"194"},{"range":"195","text":"194"},"Update the dependencies array to be: [mem, onSwipe, ref]",{"range":"196","text":"197"},"Update the dependencies array to be: [cacheKey, mutation, optimisticFn, queryClient]",{"range":"198","text":"199"},[555,557],"[authStateChange]",[810,822],"[handler, target, type]",[315,327],[1985,1987],"[mem, onSwipe, ref]",[986,998],"[cacheKey, mutation, optimisticFn, queryClient]"]